<!DOCTYPE html>
<html lang="de">
<head>
  <!-- ... (Kopf bleibt wie gehabt) ... -->
</head>
<body>
  <!-- ... (Header & Formular bleibt gleich) ... -->

  <!-- Neue Sektion: Fahrerdetails -->
  <div class="container">
    <div id="fahrerdetails" style="display: none; margin-bottom: 1rem; background: #f9f9f9; padding: 1rem; border-radius: 6px; border: 1px solid #ccc;"></div>
    <div id="zahlungsoptionen" style="display: none; margin-top: 1rem;">
      <label for="zahlart"><strong>Zahlungsart auswählen:</strong></label>
      <select id="zahlart">
        <option value="bar">Bar</option>
        <option value="ueberweisung">Überweisung</option>
        <option value="paypal">PayPal</option>
        <option value="beckmann">Beckmann-Fahrten Guthaben</option>
      </select>
      <button style="margin-top: 1rem; width: 100%;">Jetzt bezahlen</button>
    </div>
  </div>

  <script>
    const fahrerInfos = {
      "benedikt beyer": {
        alter: 26,
        autos: [
          { name: "VW Golf", baujahr: 1997, kraftstoff: "Benzin" },
          { name: "Audi A4", baujahr: 2012, kraftstoff: "Diesel" }
        ]
      },
      // weitere Fahrer hier eintragen
    };

    const fahrerInput = document.getElementById("fahrer");
    const detailsBox = document.getElementById("fahrerdetails");
    const zahlungsbox = document.getElementById("zahlungsoptionen");

    fahrerInput.addEventListener("input", () => {
      const name = fahrerInput.value.trim().toLowerCase();
      if (fahrerInfos[name]) {
        const f = fahrerInfos[name];
        let autos = f.autos.map(a => `
          <li>${a.name} (Baujahr ${a.baujahr}, ${a.kraftstoff})</li>
        `).join("");
        detailsBox.innerHTML = `
          <strong>Alter des Fahrers:</strong> ${f.alter} Jahre<br/>
          <strong>Registrierte Fahrzeuge:</strong>
          <ul>${autos}</ul>
        `;
        detailsBox.style.display = "block";
      } else {
        detailsBox.style.display = "none";
      }
    });

    const berechnenBtn = document.getElementById("berechnen");
    berechnenBtn.addEventListener("click", () => {
      // Warte kurz, ob vorher Fehler auftreten
      setTimeout(() => {
        if (document.getElementById("result").innerHTML !== "") {
          zahlungsbox.style.display = "block";
        }
      }, 500);
    });
  </script>
</body>
</html>
